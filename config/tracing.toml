# Tracing Configuration Example
# Copy this to config/tracing.toml to use
# 
# Config file search order:
# 1. Path in TRACING_CONFIG environment variable
# 2. {workspace_root}/config/tracing.toml
# 3. {workspace_root}/.tracing.toml (legacy)
# 4. {workspace_root}/tracing.toml (legacy)
# 5. ./config/tracing.toml (current directory)
# 6. ./.tracing.toml (current directory, legacy)
# 7. ./tracing.toml (current directory, legacy)
# 8. ~/.config/tracing.toml (user home)
#
# If no config file is found, environment variables are used,
# then defaults (all options enabled).
#
# Priority order:
# 1. Command line arguments (where applicable)
# 2. Environment variables
# 3. Configuration file values
# 4. Default values

# ============================================================
# IMPORTANT: Top-level options MUST appear before any [section]
# headers. In TOML, keys after a [section] header belong to
# that section, not the top level.
# ============================================================

# General formatting options
enable_indentation = true  # Visual indentation with box-drawing characters (â”¬â”€, â”‚, â””â”€)
show_file_location = true  # Show file:line for each event
enable_ansi = true         # Enable ANSI colors in terminal
show_timestamp = true      # Show timestamp at beginning of each line (elapsed time)

# Logging configuration (optional - used as fallback when environment variables are not set)
# log_to_stdout = true     # Enable stdout logging (fallback for LOG_STDOUT env var)
# log_filter = "debug"     # Log level filter for both outputs (fallback for LOG_FILTER env var)
                           # Can be a simple level: "error", "warn", "info", "debug", "trace"
                           # Or module-specific: "context_search=trace,context_trace=debug"
# stdout_log_filter = "info"   # Log level filter specifically for stdout (fallback for LOG_STDOUT_FILTER env var)
                               # Takes precedence over log_filter for stdout output
# file_log_filter = "trace"    # Log level filter specifically for file output (fallback for LOG_FILE_FILTER env var)
                               # Takes precedence over log_filter for file output
keep_success_logs = true            # Keep log files even when tests pass (fallback for KEEP_SUCCESS_LOGS env var)
                           # By default, log files are deleted when tests pass
                           # Set to true to preserve all log files for analysis

# Configuration for span enter events
[span_enter]
show = true                # Show span enter messages
show_fn_signature = true   # Show function signatures
show_fields = true         # Show span fields (parameters)

# Trait context display configuration
[span_enter.trait_context]
show_trait_name = true         # Show trait name (e.g., [trait: StateAdvance])
show_self_type = true          # Show implementing type (e.g., <ParentState>)
show_associated_types = true   # Show associated types (e.g., [Next=RootChildState])

# Configuration for span close events  
[span_close]
show = true                # Show span close messages
show_timing = true         # Show timing information (time.busy, time.idle)

# Configuration for panic logging
[panic]
show = true                # Show panic log events
show_message = true        # Include panic message in logs
show_stderr = true         # Print ðŸ”¥ PANIC: message to stderr
show_default_hook = true   # Call default panic hook (prints to stderr)
                           # Set to false to only log to file without stderr output

# === Example Configurations ===

# Minimal output (events only, no span messages):
# [span_enter]
# show = false
# [span_close]
# show = false
# enable_indentation = false

# Hide only span close messages:
# [span_close]
# show = false

# Disable panic logging completely:
# [panic]
# show = false
# show_stderr = false

# Log panic to file only (no stderr output):
# [panic]
# show = true
# show_message = true
# show_stderr = false
# show_default_hook = false

# Show panic but without message details:
# [panic]
# show = true
# show_message = false
# show_stderr = true

# Hide function signatures but keep span enter messages:
# [span_enter]
# show = true
# show_fn_signature = false
# show_fields = true

# Show only trait name and self type (hide associated types):
# [span_enter.trait_context]
# show_trait_name = true
# show_self_type = true
# show_associated_types = false

# Hide all trait context information:
# [span_enter.trait_context]
# show_trait_name = false
# show_self_type = false
# show_associated_types = false

# Plain text output (no colors, no indentation):
# enable_indentation = false
# enable_ansi = false
